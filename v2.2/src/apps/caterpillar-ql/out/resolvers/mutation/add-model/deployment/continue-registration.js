"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _debug2 = _interopRequireDefault(require("debug"));

var _createParentToChildRelation = _interopRequireDefault(require("./create-parent-to-child-relation"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var debug = (0, _debug2["default"])('caterpillarql:add-model:continue-registration');

var continueRegistration = function continueRegistration(web3, registryContract, currentIndex, sortedElements, nodeIndexes, modelInfo, contracts, registerModels) {
  if (currentIndex + 1 >= sortedElements.length) {
    debug('....................................................................');
    debug('RELATING PARENT TO NESTED CHILDREN IN REGISTRY  ...');
    return (0, _createParentToChildRelation["default"])(web3, registryContract, 0, sortedElements, contracts, modelInfo);
  } else return registerModels(web3, registryContract, currentIndex + 1, sortedElements, nodeIndexes, modelInfo, contracts);
};

var _default = continueRegistration;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2FwcC9yZXNvbHZlcnMvbXV0YXRpb24vYWRkLW1vZGVsL2RlcGxveW1lbnQvY29udGludWUtcmVnaXN0cmF0aW9uLnRzIl0sIm5hbWVzIjpbImRlYnVnIiwiY29udGludWVSZWdpc3RyYXRpb24iLCJ3ZWIzIiwicmVnaXN0cnlDb250cmFjdCIsImN1cnJlbnRJbmRleCIsInNvcnRlZEVsZW1lbnRzIiwibm9kZUluZGV4ZXMiLCJtb2RlbEluZm8iLCJjb250cmFjdHMiLCJyZWdpc3Rlck1vZGVscyIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOzs7O0FBRUEsSUFBTUEsS0FBSyxHQUFHLHdCQUFPLCtDQUFQLENBQWQ7O0FBRUEsSUFBSUMsb0JBQW9CLEdBQUcsU0FBdkJBLG9CQUF1QixDQUFDQyxJQUFELEVBQU9DLGdCQUFQLEVBQXlCQyxZQUF6QixFQUF1Q0MsY0FBdkMsRUFBdURDLFdBQXZELEVBQW9FQyxTQUFwRSxFQUErRUMsU0FBL0UsRUFBMEZDLGNBQTFGLEVBQTZHO0FBQ3RJLE1BQUlMLFlBQVksR0FBRyxDQUFmLElBQW9CQyxjQUFjLENBQUNLLE1BQXZDLEVBQStDO0FBQzdDVixJQUFBQSxLQUFLLENBQUMsc0VBQUQsQ0FBTDtBQUNBQSxJQUFBQSxLQUFLLENBQUMscURBQUQsQ0FBTDtBQUNBLFdBQU8sNkNBQTJCRSxJQUEzQixFQUFpQ0MsZ0JBQWpDLEVBQW1ELENBQW5ELEVBQXNERSxjQUF0RCxFQUFzRUcsU0FBdEUsRUFBaUZELFNBQWpGLENBQVA7QUFDRCxHQUpELE1BTUUsT0FBT0UsY0FBYyxDQUFDUCxJQUFELEVBQU9DLGdCQUFQLEVBQXlCQyxZQUFZLEdBQUcsQ0FBeEMsRUFBMkNDLGNBQTNDLEVBQTJEQyxXQUEzRCxFQUF3RUMsU0FBeEUsRUFBbUZDLFNBQW5GLENBQXJCO0FBQ0gsQ0FSRDs7ZUFVZVAsb0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlYnVnIGZyb20gJ2RlYnVnJ1xuXG5pbXBvcnQgY3JlYXRlUGFyZW50MkNoaWxkUmVsYXRpb24gZnJvbSAnLi9jcmVhdGUtcGFyZW50LXRvLWNoaWxkLXJlbGF0aW9uJ1xuXG5jb25zdCBkZWJ1ZyA9IF9kZWJ1ZygnY2F0ZXJwaWxsYXJxbDphZGQtbW9kZWw6Y29udGludWUtcmVnaXN0cmF0aW9uJylcblxubGV0IGNvbnRpbnVlUmVnaXN0cmF0aW9uID0gKHdlYjMsIHJlZ2lzdHJ5Q29udHJhY3QsIGN1cnJlbnRJbmRleCwgc29ydGVkRWxlbWVudHMsIG5vZGVJbmRleGVzLCBtb2RlbEluZm8sIGNvbnRyYWN0cywgcmVnaXN0ZXJNb2RlbHMpID0+IHtcbiAgaWYgKGN1cnJlbnRJbmRleCArIDEgPj0gc29ydGVkRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgZGVidWcoJy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uJyk7XG4gICAgZGVidWcoJ1JFTEFUSU5HIFBBUkVOVCBUTyBORVNURUQgQ0hJTERSRU4gSU4gUkVHSVNUUlkgIC4uLicpO1xuICAgIHJldHVybiBjcmVhdGVQYXJlbnQyQ2hpbGRSZWxhdGlvbih3ZWIzLCByZWdpc3RyeUNvbnRyYWN0LCAwLCBzb3J0ZWRFbGVtZW50cywgY29udHJhY3RzLCBtb2RlbEluZm8pO1xuICB9XG4gIGVsc2VcbiAgICByZXR1cm4gcmVnaXN0ZXJNb2RlbHMod2ViMywgcmVnaXN0cnlDb250cmFjdCwgY3VycmVudEluZGV4ICsgMSwgc29ydGVkRWxlbWVudHMsIG5vZGVJbmRleGVzLCBtb2RlbEluZm8sIGNvbnRyYWN0cyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb250aW51ZVJlZ2lzdHJhdGlvblxuIl19