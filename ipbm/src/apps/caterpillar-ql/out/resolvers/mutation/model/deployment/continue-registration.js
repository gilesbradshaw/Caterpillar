"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _debug2 = _interopRequireDefault(require("debug"));

var _createParentToChildRelation = _interopRequireDefault(require("./create-parent-to-child-relation"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const debug = (0, _debug2.default)('caterpillarql:model:continue-registration');

let continueRegistration = (web3, registryContract, currentIndex, sortedElements, nodeIndexes, modelInfo, contracts, registerModels) => {
  if (currentIndex + 1 >= sortedElements.length) {
    debug('....................................................................');
    debug('RELATING PARENT TO NESTED CHILDREN IN REGISTRY  ...');
    return (0, _createParentToChildRelation.default)(web3, registryContract, 0, sortedElements, contracts, modelInfo);
  } else return registerModels(web3, registryContract, currentIndex + 1, sortedElements, nodeIndexes, modelInfo, contracts);
};

var _default = continueRegistration;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2FwcC9yZXNvbHZlcnMvbXV0YXRpb24vbW9kZWwvZGVwbG95bWVudC9jb250aW51ZS1yZWdpc3RyYXRpb24udHMiXSwibmFtZXMiOlsiZGVidWciLCJjb250aW51ZVJlZ2lzdHJhdGlvbiIsIndlYjMiLCJyZWdpc3RyeUNvbnRyYWN0IiwiY3VycmVudEluZGV4Iiwic29ydGVkRWxlbWVudHMiLCJub2RlSW5kZXhlcyIsIm1vZGVsSW5mbyIsImNvbnRyYWN0cyIsInJlZ2lzdGVyTW9kZWxzIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7Ozs7QUFFQSxNQUFNQSxLQUFLLEdBQUcscUJBQU8sMkNBQVAsQ0FBZDs7QUFFQSxJQUFJQyxvQkFBb0IsR0FBRyxDQUN6QkMsSUFEeUIsRUFFekJDLGdCQUZ5QixFQUd6QkMsWUFIeUIsRUFJekJDLGNBSnlCLEVBS3pCQyxXQUx5QixFQU16QkMsU0FOeUIsRUFPekJDLFNBUHlCLEVBUXpCQyxjQVJ5QixLQVN0QjtBQUNILE1BQUlMLFlBQVksR0FBRyxDQUFmLElBQW9CQyxjQUFjLENBQUNLLE1BQXZDLEVBQStDO0FBQzdDVixJQUFBQSxLQUFLLENBQUMsc0VBQUQsQ0FBTDtBQUNBQSxJQUFBQSxLQUFLLENBQUMscURBQUQsQ0FBTDtBQUNBLFdBQU8sMENBQ0xFLElBREssRUFFTEMsZ0JBRkssRUFHTCxDQUhLLEVBSUxFLGNBSkssRUFLTEcsU0FMSyxFQU1MRCxTQU5LLENBQVA7QUFRRCxHQVhELE1BYUUsT0FBT0UsY0FBYyxDQUNuQlAsSUFEbUIsRUFFbkJDLGdCQUZtQixFQUduQkMsWUFBWSxHQUFHLENBSEksRUFJbkJDLGNBSm1CLEVBS25CQyxXQUxtQixFQU1uQkMsU0FObUIsRUFPbkJDLFNBUG1CLENBQXJCO0FBU0gsQ0FoQ0Q7O2VBa0NlUCxvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZGVidWcgZnJvbSAnZGVidWcnXG5cbmltcG9ydCBjcmVhdGVQYXJlbnQyQ2hpbGRSZWxhdGlvbiBmcm9tICcuL2NyZWF0ZS1wYXJlbnQtdG8tY2hpbGQtcmVsYXRpb24nXG5cbmNvbnN0IGRlYnVnID0gX2RlYnVnKCdjYXRlcnBpbGxhcnFsOm1vZGVsOmNvbnRpbnVlLXJlZ2lzdHJhdGlvbicpXG5cbmxldCBjb250aW51ZVJlZ2lzdHJhdGlvbiA9IChcbiAgd2ViMyxcbiAgcmVnaXN0cnlDb250cmFjdCxcbiAgY3VycmVudEluZGV4LFxuICBzb3J0ZWRFbGVtZW50cyxcbiAgbm9kZUluZGV4ZXMsXG4gIG1vZGVsSW5mbyxcbiAgY29udHJhY3RzLFxuICByZWdpc3Rlck1vZGVscyxcbikgPT4ge1xuICBpZiAoY3VycmVudEluZGV4ICsgMSA+PSBzb3J0ZWRFbGVtZW50cy5sZW5ndGgpIHtcbiAgICBkZWJ1ZygnLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4nKTtcbiAgICBkZWJ1ZygnUkVMQVRJTkcgUEFSRU5UIFRPIE5FU1RFRCBDSElMRFJFTiBJTiBSRUdJU1RSWSAgLi4uJyk7XG4gICAgcmV0dXJuIGNyZWF0ZVBhcmVudDJDaGlsZFJlbGF0aW9uKFxuICAgICAgd2ViMyxcbiAgICAgIHJlZ2lzdHJ5Q29udHJhY3QsXG4gICAgICAwLFxuICAgICAgc29ydGVkRWxlbWVudHMsXG4gICAgICBjb250cmFjdHMsXG4gICAgICBtb2RlbEluZm8sXG4gICAgKVxuICB9XG4gIGVsc2VcbiAgICByZXR1cm4gcmVnaXN0ZXJNb2RlbHMoXG4gICAgICB3ZWIzLFxuICAgICAgcmVnaXN0cnlDb250cmFjdCxcbiAgICAgIGN1cnJlbnRJbmRleCArIDEsXG4gICAgICBzb3J0ZWRFbGVtZW50cyxcbiAgICAgIG5vZGVJbmRleGVzLFxuICAgICAgbW9kZWxJbmZvLFxuICAgICAgY29udHJhY3RzLFxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb250aW51ZVJlZ2lzdHJhdGlvblxuIl19